@using IglaClub.Web.Helpers.Html
@model IglaClub.Web.Controllers.TounamentSingleListViewModel

    <span class="medium-header">@Model.Header</span>
@if (Model.Tournaments.Any())
{
    <table class="tournamentsListTable table table-striped table-hover">
        @foreach (var item in Model.Tournaments)
        {
            var status = item.TournamentStatus;
            var dateFormatted = item.PlannedStartDate != null ? @DateHelper.DaysLeftToDate((DateTime)item.PlannedStartDate) : "Not set yet";
            var hour = item.PlannedStartDate != null ? ((DateTime)item.PlannedStartDate).ToString("HH:mm") : "";              
            <tr>
                <td>@TournamentHelper.GetTournamentStatusIcon(status)</td>
                <td>@Html.ActionLink(item.Name, "Details", "Tournament", new { id = @item.Id }, null)</td>
                <td>@dateFormatted</td>
                <td>@hour</td>
                <td>@TournamentHelper.GetSubscribtionStatus(item.UserIsSubscribed(HttpContext.Current.User.Identity.Name), item.Id)</td>
            </tr>
        }
    </table>
}
else
{
    <p><i class="small text-muted">No tournaments to display</i></p>
}
